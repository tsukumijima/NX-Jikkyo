import{d as $,m as M,M as S,U as x,P as L,u as B,_ as z,c as l,a as r,b as t,r as _,n as h,w as f,e as C,f as u,g as a,h as m,i as P,F as v,j as b,v as I,k as R,o,l as w,t as d,V as X,p as T,R as U}from"./index-BlVWs5Jy.js";import{S as q,a as J}from"./swiper-CQSNWKIc.js";import{N as D,H as E}from"./Navigation-BX8f8Oxt.js";import{C as F,u as O}from"./ChannelsStore-ewitrdNA.js";import{V as Z}from"./ssrBoot-DyFsjTgT.js";const W=$({name:"TV-Home",components:{HeaderBar:E,Navigation:D,Swiper:J,SwiperSlide:q},data(){return{Utils:Object.freeze(x),ChannelUtils:Object.freeze(F),ProgramUtils:Object.freeze(L),active_tab_index:0,swiper_instance:null,scroll_abort_controller:new AbortController,is_loading:!0,interval_ids:[]}},computed:{...M(O,B)},watch:{active_tab_index(){var s,e;(s=this.swiper_instance)==null||s.updateAutoHeight(),(e=this.swiper_instance)==null||e.slideTo(this.active_tab_index,this.is_loading===!0?0:void 0)}},async mounted(){var e,p;this.settingsStore.settings.pinned_channel_ids.length===0&&(this.active_tab_index=1),this.interval_ids.push(window.setTimeout(()=>{this.channelsStore.update(!0),this.interval_ids.push(window.setInterval(()=>this.channelsStore.update(!0),30*1e3))},0*1e3)),await this.channelsStore.update(),((e=this.channelsStore.channels_list_with_pinned.get("ãƒ”ãƒ³ç•™ã‚"))==null?void 0:e.length)===0&&(this.active_tab_index=1),(p=this.swiper_instance)==null||p.updateAutoHeight(),window.addEventListener("scroll",()=>{var g;(g=this.swiper_instance)==null||g.updateAutoHeight()},{passive:!0,signal:this.scroll_abort_controller.signal}),await x.sleep(.01),this.is_loading=!1},beforeUnmount(){for(const s of this.interval_ids)window.clearInterval(s);this.scroll_abort_controller.abort(),this.scroll_abort_controller=new AbortController},methods:{addPinnedChannel(s){this.settingsStore.settings.pinned_channel_ids=[...this.settingsStore.settings.pinned_channel_ids,s.id],S.show(`${s.name}ã‚’ãƒ”ãƒ³ç•™ã‚ã—ã¾ã—ãŸã€‚`)},removePinnedChannel(s){var e;this.settingsStore.settings.pinned_channel_ids=this.settingsStore.settings.pinned_channel_ids.filter(p=>p!==s.id),((e=this.channelsStore.channels_list_with_pinned.get("ãƒ”ãƒ³ç•™ã‚"))==null?void 0:e.length)===0&&(this.active_tab_index=1),S.show(`${s.name}ã®ãƒ”ãƒ³ç•™ã‚ã‚’å¤–ã—ã¾ã—ãŸã€‚`)},isPinnedChannel(s){return this.settingsStore.settings.pinned_channel_ids.includes(s.id)}}}),G={class:"route-container"},K={class:"mt-5 mb-2 mx-4 text-center font-weight-bold",style:{"font-size":"15px"}},Q={class:"text-left mx-auto mt-2",style:{"max-width":"850px"}},Y={class:"channels-tab"},ee={class:"channel__broadcaster"},te=["src"],se={class:"channel__broadcaster-content"},ne={class:"channel__broadcaster-name"},ae={class:"channel__broadcaster-status"},ie={class:"ml-1"},oe={class:"channel__broadcaster-status-viewers ml-2"},le={class:"ml-1"},re=["onClick"],de={class:"channel__program-present"},ce={class:"channel__program-present-title-wrapper"},_e=["innerHTML"],pe={class:"channel__program-present-time"},he=["innerHTML"],me={class:"channel__program-following"},ge={class:"channel__program-following-title"},fe=["innerHTML"],ue={class:"channel__program-following-time"},ve={class:"channel__progressbar"},be={key:0,class:"pinned-container d-flex justify-center align-center w-100"},we={class:"d-flex justify-center align-center flex-column"},ke={class:"mt-4 text-text-darken-1"},ye={key:0,class:"channels-list pinned-container d-flex justify-center align-center w-100",style:{"flex-grow":"1"}};function Se(s,e,p,g,xe,Ce){const V=_("HeaderBar"),j=_("Navigation"),k=_("router-link"),y=_("Icon"),A=_("SwiperSlide"),H=_("Swiper"),N=R("ftooltip");return o(),l("div",G,[r(V),t("main",null,[r(j),t("div",{class:h(["channels-container channels-container--home",{"channels-container--loading":s.is_loading}])},[t("div",K,[e[8]||(e[8]=u('<blockquote class="text-left mx-auto mt-2" style="max-width:850px;" data-v-ce1b8e7f> ğŸ ã‚ã‘ã¾ã—ã¦ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼å¤§æ™¦æ—¥ã®ç´…ç™½ã¯ <a class="link" href="https://x.com/TVRemotePlus/status/2006317247338557807" target="_blank" data-v-ce1b8e7f>ãŸã³ãŸã³ã‚³ãƒ¡ãƒ³ãƒˆãŒè©°ã¾ã£ã¦ã—ã¾ã„</a> ã™ã¿ã¾ã›ã‚“ã§ã—ãŸâ€¦ã€‚<br data-v-ce1b8e7f> å»å¹´ã¯ä¹—ã‚Šåˆ‡ã‚Œã¦ã„ã¾ã—ãŸãŒã€<a class="link" href="https://x.com/TVRemotePlus/status/2007007786878787810" target="_blank" data-v-ce1b8e7f>ä»Šå¹´ã¯è¦–è´è€…ãŒç´…ç™½ã«é›†ä¸­ã—ã¦ã„ãŸã“ã¨</a> ã‚‚ã‚ã£ã¦é«˜è² è·ã«ãªã£ã¦ã—ã¾ã£ãŸã‚ˆã†ã§ã™ã€‚<br data-v-ce1b8e7f><div class="mt-1" data-v-ce1b8e7f></div> ä»Šå›ã®ç´…ç™½ã§ã®ã‚³ãƒ¡ãƒ³ãƒˆè©°ã¾ã‚Šã‚’è¸ã¾ãˆã€<a class="link" href="https://github.com/tsukumijima/NX-Jikkyo/commit/7c3aadccaeeab3aae34721049c5c05fb81f8063a" target="_blank" data-v-ce1b8e7f>ã‚³ãƒ¡ãƒ³ãƒˆé…ä¿¡ã®ä»•çµ„ã¿ã‚’æŠœæœ¬çš„ã«æ”¹å–„ã—ã¾ã—ãŸï¼</a><br data-v-ce1b8e7f> ä»Šå¾Œã¯ã‚³ãƒ¡ãƒ³ãƒˆãŒé…ã‚ŒãŸã‚Šæ­¢ã¾ã£ãŸã‚Šã™ã‚‹ã“ã¨ã¯ã‹ãªã‚Šæ¸›ã‚‹ã¯ãšã§ã™ã€‚ã‚‚ã—ä¸å…·åˆãŒã‚ã‚Œã°ã”å ±å‘Šãã ã•ã„ğŸ™ </blockquote>',1)),t("blockquote",Q,[e[4]||(e[4]=a(" ğŸ“¢ æœ¬å®¶ãƒ‹ã‚³ãƒ‹ã‚³å®Ÿæ³ã«ã‚³ãƒ¡ãƒ³ãƒˆã™ã‚‹ã«ã¯ ",-1)),r(k,{class:"link",to:"/settings/jikkyo"},{default:m(()=>[...e[3]||(e[3]=[a("ãƒ‹ã‚³ãƒ‹ã‚³ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨ã®é€£æºãŒå¿…è¦",-1)])]),_:1}),e[5]||(e[5]=a(" ã§ã™ã€‚è¨­å®šã§ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿å…ˆã‚’åˆ‡ã‚Šæ›¿ãˆã‚Œã°ã€ä»Šã¾ã§é€šã‚Š NX-Jikkyo ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚µãƒ¼ãƒãƒ¼ã¸ã®ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿ã‚‚ã§ãã¾ã™ (ãƒ­ã‚°ã‚¤ãƒ³ä¸è¦) ã€‚",-1)),e[6]||(e[6]=t("br",null,null,-1)),e[7]||(e[7]=t("span",{style:{"font-weight":"normal"}},[a("é€£æºæ™‚ã«å–å¾—ã—ãŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ã‚„ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã¯ãŠä½¿ã„ã®ãƒ–ãƒ©ã‚¦ã‚¶ã® Cookie ("),t("code",null,"NX-Niconico-User"),a(") ã«ã®ã¿ä¿å­˜ã•ã‚Œã€NX-Jikkyo ã®ã‚µãƒ¼ãƒãƒ¼ã«ã¯ä¸€åˆ‡ä¿å­˜ã•ã‚Œã¾ã›ã‚“ã€‚ã”å®‰å¿ƒãã ã•ã„ã€‚")],-1))]),e[9]||(e[9]=u('<div class="mt-1" data-v-ce1b8e7f> æœ€æ–°æƒ…å ±ã¯ <a class="link" href="https://x.com/search?q=%23NXJikkyo%20from%3ATVRemotePlus&amp;src=typed_query&amp;f=live" target="_blank" data-v-ce1b8e7f>Twitter</a> ã§ç™ºä¿¡ä¸­ã§ã™ğŸ“£ <a class="link" href="https://www.amazon.co.jp/hz/wishlist/ls/3AZ4RI13SW2PV?tag=tsukumijima-22" target="_blank" data-v-ce1b8e7f>å¹²ã—èŠ‹ or ã‚¢ãƒã‚®ãƒ•ã„ãŸã ã‘ã‚‹ã¨å¤§å¤‰ãƒ¢ãƒãƒ™ä¸ŠãŒã‚‹ã®ã§ãœã²ğŸ™‡ğŸ™</a></div><div class="mt-1" data-v-ce1b8e7f> ğŸ“¢ <a class="link" href="https://forms.gle/C4jnW2jGX4H5AApSA" target="_blank" data-v-ce1b8e7f>åˆ©ç”¨è€…ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆãƒ»ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯</a> ğŸ“¢ ã‚’å®Ÿæ–½ä¸­ã§ã™ï¼ãœã²ç‡ç›´ãªã”æ„è¦‹ã‚’ãŠèã‹ã›ãã ã•ã„ğŸ™ğŸ™<br data-v-ce1b8e7f><a class="link" href="https://x.com/TVRemotePlus/status/1998599759251255576" target="_blank" data-v-ce1b8e7f>å¤šå¿™ã§ãªã‹ãªã‹æ›´æ–°ã§ãã¦ã„ã¾ã›ã‚“</a> ãŒã€æ™‚é–“ã®ã‚ã‚‹æ™‚ã«ä¸€æ‹¬ã§ä¿®æ­£äºˆå®šã§ã™ã®ã§ã‚‚ã†ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„ğŸ™‡ </div>',2))]),t("div",Y,[t("div",{class:"channels-tab__buttons",style:P({"--tab-length":Array.from(s.channelsStore.channels_list_with_pinned).length,"--active-tab-index":s.active_tab_index})},[(o(!0),l(v,null,b(Array.from(s.channelsStore.channels_list_with_pinned),([i],c)=>(o(),w(X,{variant:"flat",class:h(["channels-tab__button",{"channels-tab__button--active":s.active_tab_index===c}]),key:i,onClick:n=>s.active_tab_index=c},{default:m(()=>[a(d(i),1)]),_:2},1032,["class","onClick"]))),128)),e[10]||(e[10]=t("div",{class:"channels-tab__highlight"},null,-1))],4)]),f(r(H,{class:"channels-list","space-between":32,"auto-height":!0,"touch-start-prevent-default":!1,observer:!0,"observe-parents":!0,onSwiper:e[1]||(e[1]=i=>s.swiper_instance=i),onSlideChange:e[2]||(e[2]=i=>s.active_tab_index=i.activeIndex)},{default:m(()=>[(o(!0),l(v,null,b(Array.from(s.channelsStore.channels_list_with_pinned),([i,c])=>(o(),w(A,{key:i},{default:m(()=>[t("div",{class:h(["channels",`channels--tab-${i} channels--length-${c.length}`])},[(o(!0),l(v,null,b(c,n=>f((o(),w(k,{class:"channel",draggable:"false",key:n.id,to:`/watch/${n.display_channel_id}`},{default:m(()=>[t("div",ee,[t("img",{class:"channel__broadcaster-icon",src:`${s.Utils.api_base_url}/channels/${n.id}/logo`},null,8,te),t("div",se,[t("span",ne,"Ch: "+d(n.channel_number)+" "+d(n.name),1),t("div",ae,[t("div",{class:h(["channel__broadcaster-status-force",`channel__broadcaster-status-force--${s.ChannelUtils.getChannelForceType(n.jikkyo_force)}`])},[e[11]||(e[11]=t("svg",{class:"iconify iconify--fa-solid",width:"10.5px",height:"12px",viewBox:"0 0 448 512"},[t("path",{fill:"currentColor",d:"M323.56 51.2c-20.8 19.3-39.58 39.59-56.22 59.97C240.08 73.62 206.28 35.53 168 0C69.74 91.17 0 209.96 0 281.6C0 408.85 100.29 512 224 512s224-103.15 224-230.4c0-53.27-51.98-163.14-124.44-230.4zm-19.47 340.65C282.43 407.01 255.72 416 226.86 416C154.71 416 96 368.26 96 290.75c0-38.61 24.31-72.63 72.79-130.75c6.93 7.98 98.83 125.34 98.83 125.34l58.63-66.88c4.14 6.85 7.91 13.55 11.27 19.97c27.35 52.19 15.81 118.97-33.43 153.42z"})],-1)),e[12]||(e[12]=t("span",{class:"ml-1"},"å‹¢ã„:",-1)),t("span",ie,d(n.jikkyo_force??"--"),1),e[13]||(e[13]=t("span",{style:{"margin-left":"3px"}}," ã‚³ãƒ¡/åˆ†",-1))],2),t("div",oe,[r(y,{icon:"bi:chat-left-text-fill",height:"11px"}),e[14]||(e[14]=t("span",{class:"ml-1"},"ã‚³ãƒ¡ãƒ³ãƒˆæ•°:",-1)),t("span",le,d(n.viewer_count),1)])])]),f((o(),l("div",{class:h(["channel__broadcaster-pin",{"channel__broadcaster-pin--pinned":s.isPinnedChannel(n)}]),onClick:T(Pe=>s.isPinnedChannel(n)?s.removePinnedChannel(n):s.addPinnedChannel(n),["prevent","stop"]),onMousedown:e[0]||(e[0]=T(()=>{},["prevent","stop"]))},[...e[15]||(e[15]=[t("svg",{class:"iconify iconify--fluent",width:"24px",height:"24px",viewBox:"0 0 20 20"},[t("path",{fill:"currentColor",d:"M13.325 2.617a2 2 0 0 0-3.203.52l-1.73 3.459a1.5 1.5 0 0 1-.784.721l-3.59 1.436a1 1 0 0 0-.335 1.636L6.293 13L3 16.292V17h.707L7 13.706l2.61 2.61a1 1 0 0 0 1.636-.335l1.436-3.59a1.5 1.5 0 0 1 .722-.784l3.458-1.73a2 2 0 0 0 .52-3.203l-4.057-4.057Z"})],-1)])],42,re)),[[U],[N,s.isPinnedChannel(n)?"ãƒ”ãƒ³ç•™ã‚ã‚’å¤–ã™":"ãƒ”ãƒ³ç•™ã‚ã™ã‚‹"]])]),t("div",de,[t("div",ce,[t("span",{class:"channel__program-present-title",innerHTML:s.ProgramUtils.decorateProgramInfo(n.program_present,"title")},null,8,_e),t("span",pe,d(s.ProgramUtils.getProgramTime(n.program_present)),1)]),t("span",{class:"channel__program-present-description",innerHTML:s.ProgramUtils.decorateProgramInfo(n.program_present,"description")},null,8,he)]),r(Z),t("div",me,[t("div",ge,[e[16]||(e[16]=t("span",{class:"channel__program-following-title-decorate"},"NEXT",-1)),e[17]||(e[17]=t("svg",{class:"channel__program-following-title-icon iconify iconify--fluent",width:"16px",height:"16px",viewBox:"0 0 20 20"},[t("path",{fill:"currentColor",d:"M10.018 5.486a1 1 0 0 1 1.592-.806l5.88 4.311a1.25 1.25 0 0 1 0 2.017l-5.88 4.311a1 1 0 0 1-1.592-.806v-3.16L4.61 15.319a1 1 0 0 1-1.592-.806V5.486A1 1 0 0 1 4.61 4.68l5.408 3.966v-3.16Z"})],-1)),t("span",{class:"channel__program-following-title-text",innerHTML:s.ProgramUtils.decorateProgramInfo(n.program_following,"title")},null,8,fe)]),t("span",ue,d(s.ProgramUtils.getProgramTime(n.program_following)),1)]),t("div",ve,[t("div",{class:"channel__progressbar-progress",style:P(`width:${s.ProgramUtils.getProgramProgress(n.program_present)}%;`)},null,4)])]),_:2},1032,["to"])),[[U]])),128)),i==="ãƒ”ãƒ³ç•™ã‚"&&c.length===0?(o(),l("div",be,[t("div",we,[e[22]||(e[22]=t("h2",null,[a("ãƒ”ãƒ³ç•™ã‚ã•ã‚Œã¦ã„ã‚‹ãƒãƒ£ãƒ³ãƒãƒ«ãŒ"),t("br"),a("ã‚ã‚Šã¾ã›ã‚“ã€‚")],-1)),t("div",ke,[e[18]||(e[18]=a("å„ãƒãƒ£ãƒ³ãƒãƒ«ã® ",-1)),r(y,{style:{position:"relative",bottom:"-5px"},icon:"fluent:pin-20-filled",width:"22px"}),e[19]||(e[19]=a(" ã‚¢ã‚¤ã‚³ãƒ³ã‹ã‚‰ã€ã‚ˆãå®Ÿæ³ã™ã‚‹",-1)),e[20]||(e[20]=t("br",null,null,-1)),e[21]||(e[21]=a("ãƒãƒ£ãƒ³ãƒãƒ«ã‚’ã“ã®ã‚¿ãƒ–ã«ãƒ”ãƒ³ç•™ã‚ã§ãã¾ã™ã€‚",-1))]),e[23]||(e[23]=t("div",{class:"mt-2 text-text-darken-1"},[a("ãƒãƒ£ãƒ³ãƒãƒ«ã‚’ãƒ”ãƒ³ç•™ã‚ã™ã‚‹ã¨ã€"),t("br"),a("ã“ã®ã‚¿ãƒ–ãŒæœ€åˆã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚")],-1))])])):C("",!0)],2)]),_:2},1024))),128))]),_:1},512),[[I,Array.from(s.channelsStore.channels_list_with_pinned).length>0]]),Array.from(s.channelsStore.channels_list_with_pinned).length===0?(o(),l("div",ye,[...e[24]||(e[24]=[u('<div class="d-flex justify-center align-center flex-column" data-v-ce1b8e7f><h2 data-v-ce1b8e7f>è¦–è´å¯èƒ½ãªãƒãƒ£ãƒ³ãƒãƒ«ãŒ<br class="d-sm-none" data-v-ce1b8e7f>ã‚ã‚Šã¾ã›ã‚“ã€‚</h2><div class="mt-4 text-text-darken-1" data-v-ce1b8e7f>å‰å›ãƒãƒ£ãƒ³ãƒãƒ«ã‚¹ã‚­ãƒ£ãƒ³ã—ãŸã¨ãã«<br class="d-sm-none" data-v-ce1b8e7f>å—ä¿¡å¯èƒ½ãªãƒãƒ£ãƒ³ãƒãƒ«ã‚’è¦‹ã¤ã‘ã‚‰ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚</div><div class="mt-1 text-text-darken-1" data-v-ce1b8e7f>å†åº¦ãƒãƒ£ãƒ³ãƒãƒ«ã‚¹ã‚­ãƒ£ãƒ³ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚</div></div>',1)])])):C("",!0)],2)])])}const He=z(W,[["render",Se],["__scopeId","data-v-ce1b8e7f"]]);export{He as default};
