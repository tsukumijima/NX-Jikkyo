import{V as P,_ as W,u as j}from"./ssrBoot-B3l2n3nK.js";import{_ as $,r as g,o as i,c as k,w as c,k as u,h as o,b as e,R as v,q as V,s as w,e as s,G as A,cZ as z,H as F,cP as T,ca as H,c9 as J,dm as G,I as U,cV as X,cH as q,J as L,dn as Q,d1 as K,ck as Y,bC as d,cR as Z,cf as M,cj as O,K as h,dp as tt,cW as et,cQ as st,c6 as at,dq as it,ch as D,n,V as p,Q as ot,U as C,d as nt,m as rt,a as lt,t as ct}from"./index-CYYbaoEN.js";const vt={},_t=t=>(V("data-v-bc91920e"),t=t(),w(),t),ut={class:"header"},dt=_t(()=>s("img",{class:"nx-jikkyo-logo__image",src:W,height:"35"},null,-1));function ht(t,r){const a=g("router-link");return i(),k("header",ut,[c((i(),u(a,{class:"nx-jikkyo-logo ml-3 ml-md-6",to:"/"},{default:o(()=>[dt]),_:1})),[[v]]),e(P)])}const Ht=$(vt,[["render",ht],["__scopeId","data-v-bc91920e"]]),gt=A({bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:t=>!t||["horizontal","shift"].includes(t)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...z(),...F(),...T(),...H(),...J(),...G({name:"bottom-navigation"}),...U({tag:"header"}),...X({modelValue:!0,selectedClass:"v-btn--selected"}),...q()},"VBottomNavigation"),mt=L()({name:"VBottomNavigation",props:gt(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:a}=r;const{themeClasses:I}=Q(),{borderClasses:N}=K(t),{backgroundColorClasses:x,backgroundColorStyles:l}=Y(d(t,"bgColor")),{densityClasses:_}=Z(t),{elevationClasses:y}=M(t),{roundedClasses:S}=O(t),{ssrBootStyles:E}=j(),B=h(()=>Number(t.height)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0)),f=d(t,"active"),{layoutItemStyles:R}=tt({id:t.name,order:h(()=>parseInt(t.order,10)),position:h(()=>"bottom"),layoutSize:h(()=>f.value?B.value:0),elementSize:B,active:f,absolute:d(t,"absolute")});return et(t,it),st({VBtn:{color:d(t,"color"),density:d(t,"density"),stacked:h(()=>t.mode!=="horizontal"),variant:"text"}},{scoped:!0}),at(()=>e(t.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":f.value,"v-bottom-navigation--grow":t.grow,"v-bottom-navigation--shift":t.mode==="shift"},I.value,x.value,N.value,_.value,y.value,S.value,t.class],style:[l.value,R.value,{height:D(B.value),transform:`translateY(${D(f.value?0:100,"%")})`},E.value,t.style]},{default:()=>[a.default&&e("div",{class:"v-bottom-navigation__content"},[a.default()])]})),{}}}),ft={},b=t=>(V("data-v-93ece83c"),t=t(),w(),t),pt=b(()=>s("span",{class:"mt-1"},"テレビ実況",-1)),kt=b(()=>s("span",{class:"mt-1"},"過去ログ再生",-1)),bt=b(()=>s("span",{class:"mt-1"},"NX-Jikkyo とは",-1)),yt=b(()=>s("span",{class:"mt-1"},"設定",-1));function St(t,r){const a=g("Icon");return i(),u(mt,{class:"bottom-navigation-container elevation-12",color:"primary",grow:"",active:""},{default:o(()=>[e(p,{class:n(["bottom-navigation-button",{"v-btn--active":t.$route.path=="/"}]),to:"/"},{default:o(()=>[e(a,{icon:"fluent:tv-20-regular",width:"30px"}),pt]),_:1},8,["class"]),e(p,{class:n(["bottom-navigation-button",{"v-btn--active":t.$route.path.startsWith("/log")}]),to:"/log/"},{default:o(()=>[e(a,{icon:"fluent:receipt-play-20-regular",width:"30px"}),kt]),_:1},8,["class"]),e(p,{class:n(["bottom-navigation-button",{"v-btn--active":t.$route.path.startsWith("/about")}]),to:"/about/"},{default:o(()=>[e(a,{icon:"fluent:info-16-regular",width:"26px"}),bt]),_:1},8,["class"]),e(p,{class:n(["bottom-navigation-button",{"v-btn--active":t.$route.path.startsWith("/settings")}]),to:"/settings/"},{default:o(()=>[e(a,{icon:"fluent:settings-20-regular",width:"30px"}),yt]),_:1},8,["class"])]),_:1})}const Bt=$(ft,[["render",St],["__scopeId","data-v-93ece83c"]]);class Ct{static async fetchServerVersion(r=!1){return null}}const $t=ot("version",{state:()=>({server_version_info:null,last_updated_at:0}),getters:{client_version(){return C.version},server_version(){var t;return((t=this.server_version_info)==null?void 0:t.version)??null},latest_version(){var t;return((t=this.server_version_info)==null?void 0:t.latest_version)??null},is_client_develop_version(){return this.client_version.includes("-dev")},is_server_develop_version(){var t;return((t=this.server_version)==null?void 0:t.includes("-dev"))??!1},is_update_available(){return this.server_version===null||this.latest_version===null?!1:this.is_server_develop_version===!1&&this.server_version!==this.latest_version||this.is_server_develop_version===!0&&this.server_version.replace("-dev","")===this.latest_version},is_version_mismatch(){return this.server_version===null?!1:this.client_version!==this.server_version}},actions:{async fetchServerVersion(t=!1){if(this.server_version_info!==null&&t===!1)return C.time()-this.last_updated_at>60&&this.fetchServerVersion(!0),this.server_version_info;const r=await Ct.fetchServerVersion();return r===null?null:(this.server_version_info=r,this.last_updated_at=C.time(),this.server_version_info)}}}),Vt=$t,wt=nt({name:"Navigation",components:{BottomNavigation:Bt},computed:{...rt(Vt)},async created(){await this.versionStore.fetchServerVersion()}}),m=t=>(V("data-v-f5f6b53b"),t=t(),w(),t),It={class:"navigation-container elevation-8"},Nt={class:"navigation"},xt={class:"navigation-scroll"},Dt=m(()=>s("span",{class:"navigation__link-text"},"テレビ実況",-1)),Pt=m(()=>s("span",{class:"navigation__link-text"},"過去ログ再生",-1)),Et={class:"navigation__link","active-class":"navigation__link--active",href:"https://jikkyo.tsukumijima.net",target:"_blank"},Rt=m(()=>s("span",{class:"navigation__link-text"},"過去ログ API",-1)),Wt=m(()=>s("span",{class:"navigation__link-text"},"NX-Jikkyo とは",-1)),jt=m(()=>s("span",{class:"navigation__link-text"},"設定",-1)),At={class:"navigation__link-text"};function zt(t,r,a,I,N,x){const l=g("Icon"),_=g("router-link"),y=g("BottomNavigation"),S=lt("tooltip");return i(),k("div",null,[s("div",It,[s("nav",Nt,[s("div",xt,[c((i(),u(_,{class:n(["navigation__link",{"navigation__link--active":t.$route.path=="/"}]),"active-class":"navigation__link--active",to:"/"},{default:o(()=>[e(l,{class:"navigation__link-icon",icon:"fluent:tv-20-regular",width:"26px"}),Dt]),_:1},8,["class"])),[[v]]),c((i(),u(_,{class:n(["navigation__link",{"navigation__link--active":t.$route.path.startsWith("/log")}]),"active-class":"navigation__link--active",to:"/log/"},{default:o(()=>[e(l,{class:"navigation__link-icon",icon:"fluent:receipt-play-20-regular",width:"26px"}),Pt]),_:1},8,["class"])),[[v]]),c((i(),k("a",Et,[e(l,{class:"navigation__link-icon",icon:"fluent:slide-text-multiple-20-regular",width:"26px"}),Rt])),[[v]]),c((i(),u(_,{class:n(["navigation__link",{"navigation__link--active":t.$route.path.startsWith("/about")}]),"active-class":"navigation__link--active",to:"/about/"},{default:o(()=>[e(l,{class:"navigation__link-icon",icon:"fluent:info-16-regular",width:"26px"}),Wt]),_:1},8,["class"])),[[v]]),e(P),c((i(),u(_,{class:n(["navigation__link",{"navigation__link--active":t.$route.path.startsWith("/settings")}]),"active-class":"navigation__link--active",to:"/settings/"},{default:o(()=>[e(l,{class:"navigation__link-icon",icon:"fluent:settings-20-regular",width:"26px"}),jt]),_:1},8,["class"])),[[v]]),c((i(),k("a",{class:n(["navigation__link",{"navigation__link--develop-version":t.versionStore.is_client_develop_version,"navigation__link--highlight":t.versionStore.is_update_available}]),"active-class":"navigation__link--active",href:"https://github.com/tsukumijima/NX-Jikkyo",target:"_blank"},[e(l,{class:"navigation__link-icon",icon:"fluent:info-16-regular",width:"26px"}),s("span",At,"version "+ct(t.versionStore.client_version),1)],2)),[[v],[S,t.versionStore.is_update_available?`アップデートがあります (version ${t.versionStore.latest_version})`:"",void 0,{top:!0}]])])])]),e(y)])}const Jt=$(wt,[["render",zt],["__scopeId","data-v-f5f6b53b"]]);export{Ht as H,Jt as N,Vt as u};
