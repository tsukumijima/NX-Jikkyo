import{d as M,q as D,s as C,c as H,a,b as t,g as d,x as s,y as x,z as u,w as j,h as m,V as p,l as w,M as g,A as S,r as B,k as N,o as $,_ as z}from"./index-BlVWs5Jy.js";import{H as I,N as U}from"./Navigation-BX8f8Oxt.js";import{u as R}from"./ChannelsStore-ewitrdNA.js";import{V as J,a as k}from"./VSelect-CrWBsNnu.js";import"./ssrBoot-DyFsjTgT.js";import"./VAvatar-Dl8E2ZKI.js";const P={class:"route-container"},T={class:"px-5 py-8",style:{width:"100%","max-width":"860px",margin:"0 auto","line-height":"1.65"}},A={class:"mt-8",style:{display:"grid","grid-template-columns":"1fr 1fr","column-gap":"16px"}},K={class:"d-flex justify-space-around",style:{"font-family":"'Open Sans','YakuHanJPs','Twemoji','Hiragino Sans','Noto Sans JP',sans-serif"}},q={class:"d-flex",style:{"column-gap":"8px"}},E={class:"d-flex",style:{"column-gap":"8px"}},F={class:"mt-6",style:{display:"grid","grid-template-columns":"1fr 1fr","column-gap":"16px"}},G={class:"mt-2 d-flex justify-space-around"},O=M({__name:"Index",setup(X){const _=S(),Y=D([]),V=R();V.update().then(()=>{const o=[...V.channels_list.GR,...V.channels_list.BS];Y.value=o.map(e=>({title:`Ch:${e.channel_number} (${e.id}) : ${e.name}`,value:e.id}))});const{jikkyo_channel_id:y,start_date:f,start_time:v,end_date:n,end_time:i}=C();function c(o){const e=u(`${n.value} ${i.value}`);if(!e.isValid())return;const r=e.add(o,"minute");n.value=r.format("YYYY-MM-DD"),i.value=r.format("HH:mm")}function b(){const o=u(`${f.value} ${v.value}`),e=u(`${n.value} ${i.value}`);if(!o.isValid()||!e.isValid()){g.error("開始日時または終了日時が無効です。");return}if(e.diff(o,"hour")>=12){g.error("一度に再生できる過去ログは12時間以内です。");return}if(e<o){g.error("指定された終了日時が開始日時より前です。");return}if(e>u()){g.error("指定された終了日時が未来の日付です。");return}if(o.isSame(e)){g.error("指定された開始日時と終了日時が同じです。");return}const r=`${o.format("YYYYMMDDHHmmss")}-${e.format("YYYYMMDDHHmmss")}`;_.push({path:`/log/${y.value}/${r}`})}return(o,e)=>{const r=B("Icon"),h=N("ftooltip");return $(),H("div",P,[a(I),t("main",null,[a(U),t("div",T,[e[16]||(e[16]=t("h1",null,"過去ログ再生",-1)),e[17]||(e[17]=t("p",{class:"mt-4 text-text-darken-1"},[t("strong",null,[t("a",{class:"link",href:"https://jikkyo.tsukumijima.net",target:"_blank"},"ニコニコ実況 過去ログ API"),d(" に保存されている、2009年11月から現在までの 旧ニコニコ実況 (2009/11/28 ~ 2020/12/15)・ニコ生統合後の新ニコニコ実況 (2020/12/15 ~ 2024/06/08)・NX-Jikkyo (2024/06/10 ~)・ニコニコ実況 (Re:仮) (2024/07/20 ~ 2024/08/05)・暫定復旧版ニコニコ実況 (2024/08/05 ~ 2024/08/22)・本復旧後のニコニコ実況 (2024/08/22 ~) のほぼすべての過去ログを、チャンネルと日時範囲を指定して再生できます。")]),t("br")],-1)),e[18]||(e[18]=t("p",{class:"mt-2 text-text-darken-1"},[d(" 十数年分もの膨大な過去ログデータには、当時の世相が色濃く反映された、その時代を生きた「生の声」が、まるでタイムカプセルのように刻まれています。"),t("br"),d(" たまには昔のコメントを眺めて懐かしんだり、録画番組をコメント付きで楽しんでみては？ ")],-1)),a(J,{class:"mt-8 datetime-field",color:"primary",variant:"outlined","hide-details":"",label:"実況チャンネル",items:Y.value,modelValue:s(y),"onUpdate:modelValue":e[0]||(e[0]=l=>x(y)?y.value=l:null)},null,8,["items","modelValue"]),t("div",A,[a(k,{type:"date",class:"datetime-field",color:"primary",variant:"outlined",label:"開始日付",min:"2009-11-26",max:s(u)().format("YYYY-MM-DD"),modelValue:s(f),"onUpdate:modelValue":e[1]||(e[1]=l=>x(f)?f.value=l:null)},null,8,["max","modelValue"]),a(k,{type:"time",class:"datetime-field",color:"primary",variant:"outlined",label:"開始時刻",modelValue:s(v),"onUpdate:modelValue":e[2]||(e[2]=l=>x(v)?v.value=l:null)},null,8,["modelValue"])]),t("div",K,[t("div",q,[a(p,{variant:"flat",color:"background-lighten-2",height:"46",class:"px-2",style:{"font-size":"15px"},onClick:e[3]||(e[3]=l=>c(-30))},{default:m(()=>[...e[11]||(e[11]=[d(" －30分 ",-1)])]),_:1}),a(p,{variant:"flat",color:"background-lighten-2",height:"46",class:"px-2",style:{"font-size":"15px"},onClick:e[4]||(e[4]=l=>c(-5))},{default:m(()=>[...e[12]||(e[12]=[d(" －5分 ",-1)])]),_:1})]),j(($(),w(p,{variant:"flat",color:"secondary",height:"46",class:"px-2",onClick:e[5]||(e[5]=l=>{n.value=s(f),i.value=s(v)})},{default:m(()=>[a(r,{icon:"fluent:chevron-double-down-16-filled",height:"40px"})]),_:1})),[[h,"開始日時を終了日時に設定",void 0,{top:!0}]]),t("div",E,[a(p,{variant:"flat",color:"background-lighten-2",height:"46",class:"px-2",style:{"font-size":"15px"},onClick:e[6]||(e[6]=l=>c(5))},{default:m(()=>[...e[13]||(e[13]=[d(" ＋5分 ",-1)])]),_:1}),a(p,{variant:"flat",color:"background-lighten-2",height:"46",class:"px-2",style:{"font-size":"15px"},onClick:e[7]||(e[7]=l=>c(30))},{default:m(()=>[...e[14]||(e[14]=[d(" ＋30分 ",-1)])]),_:1})])]),t("div",F,[a(k,{type:"date",class:"datetime-field",color:"primary",variant:"outlined",label:"終了日付",min:"2009-11-26",max:s(u)().format("YYYY-MM-DD"),modelValue:s(n),"onUpdate:modelValue":e[8]||(e[8]=l=>x(n)?n.value=l:null)},null,8,["max","modelValue"]),a(k,{type:"time",class:"datetime-field",color:"primary",variant:"outlined",label:"終了時刻",modelValue:s(i),"onUpdate:modelValue":e[9]||(e[9]=l=>x(i)?i.value=l:null)},null,8,["modelValue"])]),t("div",G,[a(p,{variant:"flat",color:"secondary",height:"54",onClick:e[10]||(e[10]=l=>b())},{default:m(()=>[a(r,{icon:"fluent:receipt-play-20-regular",height:"32px"}),e[15]||(e[15]=t("span",{class:"ml-2",style:{"font-size":"17px"}},"過去ログを再生",-1))]),_:1})])])])])}}}),le=z(O,[["__scopeId","data-v-bb3663a5"]]);export{le as default};
