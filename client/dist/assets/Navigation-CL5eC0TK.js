import{V as P,_ as R,u as W}from"./ssrBoot-CtioA9ao.js";import{_ as $,r as g,o as i,c as k,w as c,k as u,h as o,b as e,q as V,s as w,e as s,l as j,R as v,G as J,cZ as T,H as F,cP as H,ca as X,c9 as G,dm as U,I as q,cV as L,cH as Q,J as K,dn as Y,d1 as Z,ck as M,bC as d,cR as O,cf as tt,cj as et,K as h,dp as st,cW as at,cQ as it,c6 as ot,dq as nt,ch as D,n,V as p,Q as rt,U as C,d as lt,m as ct,a as vt,t as _t}from"./index-B3SKrUvi.js";const ut={},E=t=>(V("data-v-bf029567"),t=t(),w(),t),dt={class:"header"},ht=E(()=>s("img",{class:"nx-jikkyo-logo__image",src:R,height:"35",alt:"NX-Jikkyo"},null,-1)),gt=E(()=>s("div",{class:"subtitle ml-2 pt-1 d-flex align-center text-text-darken-1",style:{"font-size":"15px","user-select":"none"}},[s("div",{class:"mr-2",style:{"font-size":"17px"}},"|"),j(" Nico Nico Jikkyo Alternative ")],-1));function mt(t,r){const a=g("router-link");return i(),k("header",dt,[c((i(),u(a,{class:"nx-jikkyo-logo ml-3 ml-md-6",to:"/"},{default:o(()=>[ht]),_:1})),[[v]]),gt,e(P)])}const Xt=$(ut,[["render",mt],["__scopeId","data-v-bf029567"]]),ft=J({bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:t=>!t||["horizontal","shift"].includes(t)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...T(),...F(),...H(),...X(),...G(),...U({name:"bottom-navigation"}),...q({tag:"header"}),...L({modelValue:!0,selectedClass:"v-btn--selected"}),...Q()},"VBottomNavigation"),pt=K()({name:"VBottomNavigation",props:ft(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:a}=r;const{themeClasses:N}=Y(),{borderClasses:x}=Z(t),{backgroundColorClasses:I,backgroundColorStyles:l}=M(d(t,"bgColor")),{densityClasses:_}=O(t),{elevationClasses:y}=tt(t),{roundedClasses:S}=et(t),{ssrBootStyles:z}=W(),B=h(()=>Number(t.height)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0)),f=d(t,"active"),{layoutItemStyles:A}=st({id:t.name,order:h(()=>parseInt(t.order,10)),position:h(()=>"bottom"),layoutSize:h(()=>f.value?B.value:0),elementSize:B,active:f,absolute:d(t,"absolute")});return at(t,nt),it({VBtn:{color:d(t,"color"),density:d(t,"density"),stacked:h(()=>t.mode!=="horizontal"),variant:"text"}},{scoped:!0}),ot(()=>e(t.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":f.value,"v-bottom-navigation--grow":t.grow,"v-bottom-navigation--shift":t.mode==="shift"},N.value,I.value,x.value,_.value,y.value,S.value,t.class],style:[l.value,A.value,{height:D(B.value),transform:`translateY(${D(f.value?0:100,"%")})`},z.value,t.style]},{default:()=>[a.default&&e("div",{class:"v-bottom-navigation__content"},[a.default()])]})),{}}}),kt={},b=t=>(V("data-v-93ece83c"),t=t(),w(),t),bt=b(()=>s("span",{class:"mt-1"},"テレビ実況",-1)),yt=b(()=>s("span",{class:"mt-1"},"過去ログ再生",-1)),St=b(()=>s("span",{class:"mt-1"},"NX-Jikkyo とは",-1)),Bt=b(()=>s("span",{class:"mt-1"},"設定",-1));function Ct(t,r){const a=g("Icon");return i(),u(pt,{class:"bottom-navigation-container elevation-12",color:"primary",grow:"",active:""},{default:o(()=>[e(p,{class:n(["bottom-navigation-button",{"v-btn--active":t.$route.path=="/"}]),to:"/"},{default:o(()=>[e(a,{icon:"fluent:tv-20-regular",width:"30px"}),bt]),_:1},8,["class"]),e(p,{class:n(["bottom-navigation-button",{"v-btn--active":t.$route.path.startsWith("/log")}]),to:"/log/"},{default:o(()=>[e(a,{icon:"fluent:receipt-play-20-regular",width:"30px"}),yt]),_:1},8,["class"]),e(p,{class:n(["bottom-navigation-button",{"v-btn--active":t.$route.path.startsWith("/about")}]),to:"/about/"},{default:o(()=>[e(a,{icon:"fluent:info-16-regular",width:"26px"}),St]),_:1},8,["class"]),e(p,{class:n(["bottom-navigation-button",{"v-btn--active":t.$route.path.startsWith("/settings")}]),to:"/settings/"},{default:o(()=>[e(a,{icon:"fluent:settings-20-regular",width:"30px"}),Bt]),_:1},8,["class"])]),_:1})}const $t=$(kt,[["render",Ct],["__scopeId","data-v-93ece83c"]]);class Vt{static async fetchServerVersion(r=!1){return null}}const wt=rt("version",{state:()=>({server_version_info:null,last_updated_at:0}),getters:{client_version(){return C.version},server_version(){var t;return((t=this.server_version_info)==null?void 0:t.version)??null},latest_version(){var t;return((t=this.server_version_info)==null?void 0:t.latest_version)??null},is_client_develop_version(){return this.client_version.includes("-dev")},is_server_develop_version(){var t;return((t=this.server_version)==null?void 0:t.includes("-dev"))??!1},is_update_available(){return this.server_version===null||this.latest_version===null?!1:this.is_server_develop_version===!1&&this.server_version!==this.latest_version||this.is_server_develop_version===!0&&this.server_version.replace("-dev","")===this.latest_version},is_version_mismatch(){return this.server_version===null?!1:this.client_version!==this.server_version}},actions:{async fetchServerVersion(t=!1){if(this.server_version_info!==null&&t===!1)return C.time()-this.last_updated_at>60&&this.fetchServerVersion(!0),this.server_version_info;const r=await Vt.fetchServerVersion();return r===null?null:(this.server_version_info=r,this.last_updated_at=C.time(),this.server_version_info)}}}),Nt=wt,xt=lt({name:"Navigation",components:{BottomNavigation:$t},computed:{...ct(Nt)},async created(){await this.versionStore.fetchServerVersion()}}),m=t=>(V("data-v-f5f6b53b"),t=t(),w(),t),It={class:"navigation-container elevation-8"},Dt={class:"navigation"},Pt={class:"navigation-scroll"},Et=m(()=>s("span",{class:"navigation__link-text"},"テレビ実況",-1)),zt=m(()=>s("span",{class:"navigation__link-text"},"過去ログ再生",-1)),At={class:"navigation__link","active-class":"navigation__link--active",href:"https://jikkyo.tsukumijima.net",target:"_blank"},Rt=m(()=>s("span",{class:"navigation__link-text"},"過去ログ API",-1)),Wt=m(()=>s("span",{class:"navigation__link-text"},"NX-Jikkyo とは",-1)),jt=m(()=>s("span",{class:"navigation__link-text"},"設定",-1)),Jt={class:"navigation__link-text"};function Tt(t,r,a,N,x,I){const l=g("Icon"),_=g("router-link"),y=g("BottomNavigation"),S=vt("tooltip");return i(),k("div",null,[s("div",It,[s("nav",Dt,[s("div",Pt,[c((i(),u(_,{class:n(["navigation__link",{"navigation__link--active":t.$route.path=="/"}]),"active-class":"navigation__link--active",to:"/"},{default:o(()=>[e(l,{class:"navigation__link-icon",icon:"fluent:tv-20-regular",width:"26px"}),Et]),_:1},8,["class"])),[[v]]),c((i(),u(_,{class:n(["navigation__link",{"navigation__link--active":t.$route.path.startsWith("/log")}]),"active-class":"navigation__link--active",to:"/log/"},{default:o(()=>[e(l,{class:"navigation__link-icon",icon:"fluent:receipt-play-20-regular",width:"26px"}),zt]),_:1},8,["class"])),[[v]]),c((i(),k("a",At,[e(l,{class:"navigation__link-icon",icon:"fluent:slide-text-multiple-20-regular",width:"26px"}),Rt])),[[v]]),c((i(),u(_,{class:n(["navigation__link",{"navigation__link--active":t.$route.path.startsWith("/about")}]),"active-class":"navigation__link--active",to:"/about/"},{default:o(()=>[e(l,{class:"navigation__link-icon",icon:"fluent:info-16-regular",width:"26px"}),Wt]),_:1},8,["class"])),[[v]]),e(P),c((i(),u(_,{class:n(["navigation__link",{"navigation__link--active":t.$route.path.startsWith("/settings")}]),"active-class":"navigation__link--active",to:"/settings/"},{default:o(()=>[e(l,{class:"navigation__link-icon",icon:"fluent:settings-20-regular",width:"26px"}),jt]),_:1},8,["class"])),[[v]]),c((i(),k("a",{class:n(["navigation__link",{"navigation__link--develop-version":t.versionStore.is_client_develop_version,"navigation__link--highlight":t.versionStore.is_update_available}]),"active-class":"navigation__link--active",href:"https://github.com/tsukumijima/NX-Jikkyo",target:"_blank"},[e(l,{class:"navigation__link-icon",icon:"fluent:info-16-regular",width:"26px"}),s("span",Jt,"version "+_t(t.versionStore.client_version),1)],2)),[[v],[S,t.versionStore.is_update_available?`アップデートがあります (version ${t.versionStore.latest_version})`:"",void 0,{top:!0}]])])])]),e(y)])}const Gt=$(xt,[["render",Tt],["__scopeId","data-v-f5f6b53b"]]);export{Xt as H,Gt as N,Nt as u};
