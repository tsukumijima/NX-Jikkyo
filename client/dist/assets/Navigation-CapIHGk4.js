import{V as A,_ as E,u as z}from"./ssrBoot-CIT17iFD.js";import{_ as $,r as h,o,c as p,w as c,i as g,g as n,a as e,R as v,p as w,k as V,b as s,x as R,az as F,y as T,ay as G,ab as W,aa as H,bE as U,z as L,bm as J,aF as K,A as X,bF as Y,aI as q,ao as M,ae as u,aK as O,aj as Q,an as Z,B as d,bG as tt,bn as et,aw as st,a6 as at,bH as ot,al as P,n as l,V as f,G as nt,U as C,d as it,m as rt,I as lt,t as ct}from"./index-DiZTtteo.js";const vt={},_t=t=>(w("data-v-bc91920e"),t=t(),V(),t),ut={class:"header"},dt=_t(()=>s("img",{class:"nx-jikkyo-logo__image",src:E,height:"35"},null,-1));function ht(t,i){const a=h("router-link");return o(),p("header",ut,[c((o(),g(a,{class:"nx-jikkyo-logo ml-3 ml-md-6",to:"/"},{default:n(()=>[dt]),_:1})),[[v]]),e(A)])}const Gt=$(vt,[["render",ht],["__scopeId","data-v-bc91920e"]]),gt=R({bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:t=>!t||["horizontal","shift"].includes(t)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...F(),...T(),...G(),...W(),...H(),...U({name:"bottom-navigation"}),...L({tag:"header"}),...J({modelValue:!0,selectedClass:"v-btn--selected"}),...K()},"VBottomNavigation"),mt=X()({name:"VBottomNavigation",props:gt(),emits:{"update:modelValue":t=>!0},setup(t,i){let{slots:a}=i;const{themeClasses:I}=Y(),{borderClasses:x}=q(t),{backgroundColorClasses:N,backgroundColorStyles:r}=M(u(t,"bgColor")),{densityClasses:_}=O(t),{elevationClasses:y}=Q(t),{roundedClasses:S}=Z(t),{ssrBootStyles:D}=z(),B=d(()=>Number(t.height)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0)),m=u(t,"active"),{layoutItemStyles:j}=tt({id:t.name,order:d(()=>parseInt(t.order,10)),position:d(()=>"bottom"),layoutSize:d(()=>m.value?B.value:0),elementSize:B,active:m,absolute:u(t,"absolute")});return et(t,ot),st({VBtn:{color:u(t,"color"),density:u(t,"density"),stacked:d(()=>t.mode!=="horizontal"),variant:"text"}},{scoped:!0}),at(()=>e(t.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":m.value,"v-bottom-navigation--grow":t.grow,"v-bottom-navigation--shift":t.mode==="shift"},I.value,N.value,x.value,_.value,y.value,S.value,t.class],style:[r.value,j.value,{height:P(B.value),transform:`translateY(${P(m.value?0:100,"%")})`},D.value,t.style]},{default:()=>[a.default&&e("div",{class:"v-bottom-navigation__content"},[a.default()])]})),{}}}),ft={},k=t=>(w("data-v-e6986bee"),t=t(),V(),t),pt=k(()=>s("span",{class:"mt-1"},"テレビ実況",-1)),kt=k(()=>s("span",{class:"mt-1"},"過去ログ API",-1)),bt=k(()=>s("span",{class:"mt-1"},"About",-1)),yt=k(()=>s("span",{class:"mt-1"},"設定",-1));function St(t,i){const a=h("Icon");return o(),g(mt,{class:"bottom-navigation-container elevation-12",color:"primary",grow:"",active:""},{default:n(()=>[e(f,{class:l(["bottom-navigation-button",{"v-btn--active":t.$route.path=="/"}]),to:"/"},{default:n(()=>[e(a,{icon:"fluent:tv-20-regular",width:"30px"}),pt]),_:1},8,["class"]),e(f,{class:"bottom-navigation-button",href:"https://jikkyo.tsukumijima.net",target:"_blank"},{default:n(()=>[e(a,{icon:"fluent:slide-text-multiple-20-regular",width:"26px"}),kt]),_:1}),e(f,{class:l(["bottom-navigation-button",{"v-btn--active":t.$route.path.startsWith("/about")}]),to:"/about/"},{default:n(()=>[e(a,{icon:"fluent:info-16-regular",width:"26px"}),bt]),_:1},8,["class"]),e(f,{class:l(["bottom-navigation-button",{"v-btn--active":t.$route.path.startsWith("/settings")}]),to:"/settings/"},{default:n(()=>[e(a,{icon:"fluent:settings-20-regular",width:"30px"}),yt]),_:1},8,["class"])]),_:1})}const Bt=$(ft,[["render",St],["__scopeId","data-v-e6986bee"]]);class Ct{static async fetchServerVersion(i=!1){return null}}const $t=nt("version",{state:()=>({server_version_info:null,last_updated_at:0}),getters:{client_version(){return C.version},server_version(){var t;return((t=this.server_version_info)==null?void 0:t.version)??null},latest_version(){var t;return((t=this.server_version_info)==null?void 0:t.latest_version)??null},is_client_develop_version(){return this.client_version.includes("-dev")},is_server_develop_version(){var t;return((t=this.server_version)==null?void 0:t.includes("-dev"))??!1},is_update_available(){return this.server_version===null||this.latest_version===null?!1:this.is_server_develop_version===!1&&this.server_version!==this.latest_version||this.is_server_develop_version===!0&&this.server_version.replace("-dev","")===this.latest_version},is_version_mismatch(){return this.server_version===null?!1:this.client_version!==this.server_version}},actions:{async fetchServerVersion(t=!1){if(this.server_version_info!==null&&t===!1)return C.time()-this.last_updated_at>60&&this.fetchServerVersion(!0),this.server_version_info;const i=await Ct.fetchServerVersion();return i===null?null:(this.server_version_info=i,this.last_updated_at=C.time(),this.server_version_info)}}}),wt=$t,Vt=it({name:"Navigation",components:{BottomNavigation:Bt},computed:{...rt(wt)},async created(){await this.versionStore.fetchServerVersion()}}),b=t=>(w("data-v-26be924e"),t=t(),V(),t),It={class:"navigation-container elevation-8"},xt={class:"navigation"},Nt={class:"navigation-scroll"},Pt=b(()=>s("span",{class:"navigation__link-text"},"テレビ実況",-1)),At={class:"navigation__link","active-class":"navigation__link--active",href:"https://jikkyo.tsukumijima.net",target:"_blank"},Dt=b(()=>s("span",{class:"navigation__link-text"},"過去ログ API",-1)),jt=b(()=>s("span",{class:"navigation__link-text"},"About",-1)),Et=b(()=>s("span",{class:"navigation__link-text"},"設定",-1)),zt={class:"navigation__link-text"};function Rt(t,i,a,I,x,N){const r=h("Icon"),_=h("router-link"),y=h("BottomNavigation"),S=lt("tooltip");return o(),p("div",null,[s("div",It,[s("nav",xt,[s("div",Nt,[c((o(),g(_,{class:l(["navigation__link",{"navigation__link--active":t.$route.path=="/"}]),"active-class":"navigation__link--active",to:"/"},{default:n(()=>[e(r,{class:"navigation__link-icon",icon:"fluent:tv-20-regular",width:"26px"}),Pt]),_:1},8,["class"])),[[v]]),c((o(),p("a",At,[e(r,{class:"navigation__link-icon",icon:"fluent:slide-text-multiple-20-regular",width:"26px"}),Dt])),[[v]]),c((o(),g(_,{class:l(["navigation__link",{"navigation__link--active":t.$route.path.startsWith("/about")}]),"active-class":"navigation__link--active",to:"/about/"},{default:n(()=>[e(r,{class:"navigation__link-icon",icon:"fluent:info-16-regular",width:"26px"}),jt]),_:1},8,["class"])),[[v]]),e(A),c((o(),g(_,{class:l(["navigation__link",{"navigation__link--active":t.$route.path.startsWith("/settings")}]),"active-class":"navigation__link--active",to:"/settings/"},{default:n(()=>[e(r,{class:"navigation__link-icon",icon:"fluent:settings-20-regular",width:"26px"}),Et]),_:1},8,["class"])),[[v]]),c((o(),p("a",{class:l(["navigation__link",{"navigation__link--develop-version":t.versionStore.is_client_develop_version,"navigation__link--highlight":t.versionStore.is_update_available}]),"active-class":"navigation__link--active",href:"https://github.com/tsukumijima/NX-Jikkyo",target:"_blank"},[e(r,{class:"navigation__link-icon",icon:"fluent:info-16-regular",width:"26px"}),s("span",zt,"version "+ct(t.versionStore.client_version),1)],2)),[[v],[S,t.versionStore.is_update_available?`アップデートがあります (version ${t.versionStore.latest_version})`:"",void 0,{top:!0}]])])])]),e(y)])}const Wt=$(Vt,[["render",Rt],["__scopeId","data-v-26be924e"]]);export{Gt as H,Wt as N,wt as u};
