import{V as I,_ as z,h as A,T as J}from"./ssrBoot-CaVSYxv9.js";import{_ as B,r as h,o as i,c as p,w as c,j as u,g as o,a as e,p as $,q as w,b as s,k as R,R as v,E as W,cP as F,G as X,cw as G,ca as H,c9 as L,dd as U,H as q,cJ as M,ct as O,I as K,de as Q,cT as Y,ck as Z,bC as d,cy as tt,cf as et,cj as st,J as g,c4 as at,df as it,cL as ot,cx as nt,c6 as rt,dg as lt,ch as ct,n,V as f,O as vt,U as C,d as _t,m as ut,t as dt}from"./index-BaStaaT9.js";const gt={},P=t=>($("data-v-bf029567"),t=t(),w(),t),ht={class:"header"},mt=P(()=>s("img",{class:"nx-jikkyo-logo__image",src:z,height:"35",alt:"NX-Jikkyo"},null,-1)),ft=P(()=>s("div",{class:"subtitle ml-2 pt-1 d-flex align-center text-text-darken-1",style:{"font-size":"15px","user-select":"none"}},[s("div",{class:"mr-2",style:{"font-size":"17px"}},"|"),R(" Nico Nico Jikkyo Alternative ")],-1));function pt(t,r){const a=h("router-link");return i(),p("header",ht,[c((i(),u(a,{class:"nx-jikkyo-logo ml-3 ml-md-6",to:"/"},{default:o(()=>[mt]),_:1})),[[v]]),ft,e(I)])}const Lt=B(gt,[["render",pt],["__scopeId","data-v-bf029567"]]),kt=W({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:t=>!t||["horizontal","shift"].includes(t)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...F(),...X(),...G(),...H(),...L(),...U({name:"bottom-navigation"}),...q({tag:"header"}),...M({selectedClass:"v-btn--selected"}),...O()},"VBottomNavigation"),bt=K()({name:"VBottomNavigation",props:kt(),emits:{"update:active":t=>!0,"update:modelValue":t=>!0},setup(t,r){let{slots:a}=r;const{themeClasses:V}=Q(),{borderClasses:x}=Y(t),{backgroundColorClasses:N,backgroundColorStyles:l}=Z(d(t,"bgColor")),{densityClasses:_}=tt(t),{elevationClasses:b}=et(t),{roundedClasses:D}=st(t),{ssrBootStyles:E}=A(),y=g(()=>Number(t.height)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0)),S=at(t,"active",t.active),{layoutItemStyles:T,layoutIsReady:j}=it({id:t.name,order:g(()=>parseInt(t.order,10)),position:g(()=>"bottom"),layoutSize:g(()=>S.value?y.value:0),elementSize:y,active:S,absolute:d(t,"absolute")});return ot(t,lt),nt({VBtn:{baseColor:d(t,"baseColor"),color:d(t,"color"),density:d(t,"density"),stacked:g(()=>t.mode!=="horizontal"),variant:"text"}},{scoped:!0}),rt(()=>e(t.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":S.value,"v-bottom-navigation--grow":t.grow,"v-bottom-navigation--shift":t.mode==="shift"},V.value,N.value,x.value,_.value,b.value,D.value,t.class],style:[l.value,T.value,{height:ct(y.value)},E.value,t.style]},{default:()=>[a.default&&e("div",{class:"v-bottom-navigation__content"},[a.default()])]})),j}}),yt={},k=t=>($("data-v-93ece83c"),t=t(),w(),t),St=k(()=>s("span",{class:"mt-1"},"テレビ実況",-1)),Ct=k(()=>s("span",{class:"mt-1"},"過去ログ再生",-1)),Bt=k(()=>s("span",{class:"mt-1"},"NX-Jikkyo とは",-1)),$t=k(()=>s("span",{class:"mt-1"},"設定",-1));function wt(t,r){const a=h("Icon");return i(),u(bt,{class:"bottom-navigation-container elevation-12",color:"primary",grow:"",active:""},{default:o(()=>[e(f,{class:n(["bottom-navigation-button",{"v-btn--active":t.$route.path=="/"}]),to:"/"},{default:o(()=>[e(a,{icon:"fluent:tv-20-regular",width:"30px"}),St]),_:1},8,["class"]),e(f,{class:n(["bottom-navigation-button",{"v-btn--active":t.$route.path.startsWith("/log")}]),to:"/log/"},{default:o(()=>[e(a,{icon:"fluent:receipt-play-20-regular",width:"30px"}),Ct]),_:1},8,["class"]),e(f,{class:n(["bottom-navigation-button",{"v-btn--active":t.$route.path.startsWith("/about")}]),to:"/about/"},{default:o(()=>[e(a,{icon:"fluent:info-16-regular",width:"26px"}),Bt]),_:1},8,["class"]),e(f,{class:n(["bottom-navigation-button",{"v-btn--active":t.$route.path.startsWith("/settings")}]),to:"/settings/"},{default:o(()=>[e(a,{icon:"fluent:settings-20-regular",width:"30px"}),$t]),_:1},8,["class"])]),_:1})}const Vt=B(yt,[["render",wt],["__scopeId","data-v-93ece83c"]]);class xt{static async fetchServerVersion(r=!1){return null}}const Nt=vt("version",{state:()=>({server_version_info:null,last_updated_at:0}),getters:{client_version(){return C.version},server_version(){var t;return((t=this.server_version_info)==null?void 0:t.version)??null},latest_version(){var t;return((t=this.server_version_info)==null?void 0:t.latest_version)??null},is_client_develop_version(){return this.client_version.includes("-dev")},is_server_develop_version(){var t;return((t=this.server_version)==null?void 0:t.includes("-dev"))??!1},is_update_available(){return this.server_version===null||this.latest_version===null?!1:this.is_server_develop_version===!1&&this.server_version!==this.latest_version||this.is_server_develop_version===!0&&this.server_version.replace("-dev","")===this.latest_version},is_version_mismatch(){return this.server_version===null?!1:this.client_version!==this.server_version}},actions:{async fetchServerVersion(t=!1){if(this.server_version_info!==null&&t===!1)return C.time()-this.last_updated_at>60&&this.fetchServerVersion(!0),this.server_version_info;const r=await xt.fetchServerVersion();return r===null?null:(this.server_version_info=r,this.last_updated_at=C.time(),this.server_version_info)}}}),It=Nt,Pt=_t({name:"Navigation",components:{BottomNavigation:Vt},computed:{...ut(It)},async created(){await this.versionStore.fetchServerVersion()}}),m=t=>($("data-v-f5f6b53b"),t=t(),w(),t),Dt={class:"navigation-container elevation-8"},Et={class:"navigation"},Tt={class:"navigation-scroll"},jt=m(()=>s("span",{class:"navigation__link-text"},"テレビ実況",-1)),zt=m(()=>s("span",{class:"navigation__link-text"},"過去ログ再生",-1)),At={class:"navigation__link","active-class":"navigation__link--active",href:"https://jikkyo.tsukumijima.net",target:"_blank"},Jt=m(()=>s("span",{class:"navigation__link-text"},"過去ログ API",-1)),Rt=m(()=>s("span",{class:"navigation__link-text"},"NX-Jikkyo とは",-1)),Wt=m(()=>s("span",{class:"navigation__link-text"},"設定",-1)),Ft={class:"navigation__link-text"};function Xt(t,r,a,V,x,N){const l=h("Icon"),_=h("router-link"),b=h("BottomNavigation");return i(),p("div",null,[s("div",Dt,[s("nav",Et,[s("div",Tt,[c((i(),u(_,{class:n(["navigation__link",{"navigation__link--active":t.$route.path=="/"}]),"active-class":"navigation__link--active",to:"/"},{default:o(()=>[e(l,{class:"navigation__link-icon",icon:"fluent:tv-20-regular",width:"26px"}),jt]),_:1},8,["class"])),[[v]]),c((i(),u(_,{class:n(["navigation__link",{"navigation__link--active":t.$route.path.startsWith("/log")}]),"active-class":"navigation__link--active",to:"/log/"},{default:o(()=>[e(l,{class:"navigation__link-icon",icon:"fluent:receipt-play-20-regular",width:"26px"}),zt]),_:1},8,["class"])),[[v]]),c((i(),p("a",At,[e(l,{class:"navigation__link-icon",icon:"fluent:slide-text-multiple-20-regular",width:"26px"}),Jt])),[[v]]),c((i(),u(_,{class:n(["navigation__link",{"navigation__link--active":t.$route.path.startsWith("/about")}]),"active-class":"navigation__link--active",to:"/about/"},{default:o(()=>[e(l,{class:"navigation__link-icon",icon:"fluent:info-16-regular",width:"26px"}),Rt]),_:1},8,["class"])),[[v]]),e(I),c((i(),u(_,{class:n(["navigation__link",{"navigation__link--active":t.$route.path.startsWith("/settings")}]),"active-class":"navigation__link--active",to:"/settings/"},{default:o(()=>[e(l,{class:"navigation__link-icon",icon:"fluent:settings-20-regular",width:"26px"}),Wt]),_:1},8,["class"])),[[v]]),c((i(),p("a",{class:n(["navigation__link",{"navigation__link--develop-version":t.versionStore.is_client_develop_version,"navigation__link--highlight":t.versionStore.is_update_available}]),"active-class":"navigation__link--active",href:"https://github.com/tsukumijima/NX-Jikkyo",target:"_blank"},[e(l,{class:"navigation__link-icon",icon:"fluent:info-16-regular",width:"26px"}),s("span",Ft,"version "+dt(t.versionStore.client_version),1)],2)),[[v],[J,t.versionStore.is_update_available?`アップデートがあります (version ${t.versionStore.latest_version})`:"",void 0,{top:!0}]])])])]),e(b)])}const Ut=B(Pt,[["render",Xt],["__scopeId","data-v-f5f6b53b"]]);export{Lt as H,Ut as N,It as u};
