import{d as ye,m as Fe,Q as Ee,u as Ae,x as Q,aa as Ve,ab as we,B as l,ac as oe,ad as ue,ae as T,af as ie,W as ee,ag as De,Y as Te,ah as fe,y as _e,A as se,R as be,ai as he,aj as xe,ak as Me,a6 as ae,al as U,a,w as te,I as Pe,v as ze,am as Re,an as Ne,ao as re,a4 as Le,F as Ie,a8 as $e,_ as Ue,r as Z,o as de,i as Oe,g as ce,b as n,c as je,V as qe,n as Ke,p as Ye,k as Je,j as O}from"./index-DiZTtteo.js";import{C as We,a as Xe}from"./CommentMuteSettings-Dyje0NdD.js";import{S as Qe}from"./Base-XptIuJDR.js";import{l as Ge,n as He,m as Ze,u as et,d as me,o as tt}from"./VSelect-CfdPp7N_.js";import"./VCard-CKapX6tn.js";import"./ssrBoot-CIT17iFD.js";import"./VAvatar-DFVOGU5E.js";import"./Navigation-CapIHGk4.js";const ut=ye({name:"Settings-Jikkyo",components:{SettingsBase:Qe,CommentMuteSettings:We},data(){return{comment_mute_settings_modal:!1,is_loading:!0}},computed:{...Fe(Ae,Ee)},async created(){await this.userStore.fetchUser(),this.is_loading=!1}}),le=Symbol.for("vuetify:v-slider");function st(e,t,s){const r=s==="vertical",d=t.getBoundingClientRect(),g="touches"in e?e.touches[0]:e;return r?g.clientY-(d.top+d.height/2):g.clientX-(d.left+d.width/2)}function at(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const lt=Q({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Ve(),...we({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),nt=e=>{const t=l(()=>parseFloat(e.min)),s=l(()=>parseFloat(e.max)),r=l(()=>+e.step>0?parseFloat(e.step):0),d=l(()=>Math.max(oe(r.value),oe(t.value)));function g(v){if(v=parseFloat(v),r.value<=0)return v;const c=fe(v,t.value,s.value),p=t.value%r.value,i=Math.round((c-p)/r.value)*r.value+p;return parseFloat(Math.min(i,s.value).toFixed(d.value))}return{min:t,max:s,step:r,decimals:d,roundValue:g}},ot=e=>{let{props:t,steps:s,onSliderStart:r,onSliderMove:d,onSliderEnd:g,getActiveThumb:v}=e;const{isRtl:c}=ue(),p=T(t,"reverse"),i=l(()=>t.direction==="vertical"),A=l(()=>i.value!==p.value),{min:k,max:B,step:V,decimals:R,roundValue:x}=s,I=l(()=>parseInt(t.thumbSize,10)),N=l(()=>parseInt(t.tickSize,10)),M=l(()=>parseInt(t.trackSize,10)),w=l(()=>(B.value-k.value)/V.value),$=T(t,"disabled"),D=l(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),m=l(()=>t.error||t.disabled?void 0:t.trackColor??t.color),y=l(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),b=ie(!1),h=ie(0),F=ee(),E=ee();function o(u){var ne;const _=t.direction==="vertical",ge=_?"top":"left",pe=_?"height":"width",ke=_?"clientY":"clientX",{[ge]:Ce,[pe]:Se}=(ne=F.value)==null?void 0:ne.$el.getBoundingClientRect(),Be=at(u,ke);let H=Math.min(Math.max((Be-Ce-h.value)/Se,0),1)||0;return(_?A.value:A.value!==c.value)&&(H=1-H),x(k.value+H*(B.value-k.value))}const P=u=>{g({value:o(u)}),b.value=!1,h.value=0},L=u=>{E.value=v(u),E.value&&(E.value.focus(),b.value=!0,E.value.contains(u.target)?h.value=st(u,E.value,t.direction):(h.value=0,d({value:o(u)})),r({value:o(u)}))},S={passive:!0,capture:!0};function j(u){d({value:o(u)})}function Y(u){u.stopPropagation(),u.preventDefault(),P(u),window.removeEventListener("mousemove",j,S),window.removeEventListener("mouseup",Y)}function J(u){var _;P(u),window.removeEventListener("touchmove",j,S),(_=u.target)==null||_.removeEventListener("touchend",J)}function G(u){var _;L(u),window.addEventListener("touchmove",j,S),(_=u.target)==null||_.addEventListener("touchend",J,{passive:!1})}function C(u){u.preventDefault(),L(u),window.addEventListener("mousemove",j,S),window.addEventListener("mouseup",Y,{passive:!1})}const f=u=>{const _=(u-k.value)/(B.value-k.value)*100;return fe(isNaN(_)?0:_,0,100)},q=T(t,"showTicks"),K=l(()=>q.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(u=>({value:u,position:f(u),label:u.toString()})):Object.keys(t.ticks).map(u=>({value:parseFloat(u),position:f(parseFloat(u)),label:t.ticks[u]})):w.value!==1/0?De(w.value+1).map(u=>{const _=k.value+u*V.value;return{value:_,position:f(_)}}):[]:[]),W=l(()=>K.value.some(u=>{let{label:_}=u;return!!_})),X={activeThumbRef:E,color:T(t,"color"),decimals:R,disabled:$,direction:T(t,"direction"),elevation:T(t,"elevation"),hasLabels:W,isReversed:p,indexFromEnd:A,min:k,max:B,mousePressed:b,numTicks:w,onSliderMousedown:C,onSliderTouchstart:G,parsedTicks:K,parseMouseMove:o,position:f,readonly:T(t,"readonly"),rounded:T(t,"rounded"),roundValue:x,showTicks:q,startOffset:h,step:V,thumbSize:I,thumbColor:D,thumbLabel:T(t,"thumbLabel"),ticks:T(t,"ticks"),tickSize:N,trackColor:m,trackContainerRef:F,trackFillColor:y,trackSize:M,vertical:i};return Te(le,X),X},it=Q({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},..._e()},"VSliderThumb"),rt=se()({name:"VSliderThumb",directives:{Ripple:be},props:it(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:s,emit:r}=t;const d=he(le),{isRtl:g,rtlClasses:v}=ue();if(!d)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:c,step:p,disabled:i,thumbSize:A,thumbLabel:k,direction:B,isReversed:V,vertical:R,readonly:x,elevation:I,mousePressed:N,decimals:M,indexFromEnd:w}=d,$=l(()=>i.value?void 0:I.value),{elevationClasses:D}=xe($),{textColorClasses:m,textColorStyles:y}=Me(c),{pageup:b,pagedown:h,end:F,home:E,left:o,right:P,down:L,up:S}=Re,j=[b,h,F,E,o,P,L,S],Y=l(()=>p.value?[1,2,3]:[1,5,10]);function J(C,f){if(!j.includes(C.key))return;C.preventDefault();const q=p.value||.1,K=(e.max-e.min)/q;if([o,P,L,S].includes(C.key)){const X=(R.value?[g.value?o:P,V.value?L:S]:w.value!==g.value?[o,S]:[P,S]).includes(C.key)?1:-1,u=C.shiftKey?2:C.ctrlKey?1:0;f=f+X*q*Y.value[u]}else if(C.key===E)f=e.min;else if(C.key===F)f=e.max;else{const W=C.key===h?1:-1;f=f-W*q*(K>100?K/10:10)}return Math.max(e.min,Math.min(e.max,f))}function G(C){const f=J(C,e.modelValue);f!=null&&r("update:modelValue",f)}return ae(()=>{const C=U(w.value?100-e.position:e.position,"%");return a("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&N.value},e.class,v.value],style:[{"--v-slider-thumb-position":C,"--v-slider-thumb-size":U(A.value)},e.style],role:"slider",tabindex:i.value?-1:0,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!x.value,"aria-orientation":B.value,onKeydown:x.value?void 0:G},[a("div",{class:["v-slider-thumb__surface",m.value,D.value],style:{...y.value}},null),te(a("div",{class:["v-slider-thumb__ripple",m.value],style:y.value},null),[[Pe("ripple"),e.ripple,null,{circle:!0,center:!0}]]),a(Ge,{origin:"bottom center"},{default:()=>{var f;return[te(a("div",{class:"v-slider-thumb__label-container"},[a("div",{class:["v-slider-thumb__label"]},[a("div",null,[((f=s["thumb-label"])==null?void 0:f.call(s,{modelValue:e.modelValue}))??e.modelValue.toFixed(p.value?M.value:1)])])]),[[ze,k.value&&e.focused||k.value==="always"]])]}})])}),{}}}),dt=Q({start:{type:Number,required:!0},stop:{type:Number,required:!0},..._e()},"VSliderTrack"),ct=se()({name:"VSliderTrack",props:dt(),emits:{},setup(e,t){let{slots:s}=t;const r=he(le);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:d,parsedTicks:g,rounded:v,showTicks:c,tickSize:p,trackColor:i,trackFillColor:A,trackSize:k,vertical:B,min:V,max:R,indexFromEnd:x}=r,{roundedClasses:I}=Ne(v),{backgroundColorClasses:N,backgroundColorStyles:M}=re(A),{backgroundColorClasses:w,backgroundColorStyles:$}=re(i),D=l(()=>`inset-${B.value?"block":"inline"}-${x.value?"end":"start"}`),m=l(()=>B.value?"height":"width"),y=l(()=>({[D.value]:"0%",[m.value]:"100%"})),b=l(()=>e.stop-e.start),h=l(()=>({[D.value]:U(e.start,"%"),[m.value]:U(b.value,"%")})),F=l(()=>c.value?(B.value?g.value.slice().reverse():g.value).map((o,P)=>{var S;const L=o.value!==V.value&&o.value!==R.value?U(o.position,"%"):void 0;return a("div",{key:o.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":o.position>=e.start&&o.position<=e.stop,"v-slider-track__tick--first":o.value===V.value,"v-slider-track__tick--last":o.value===R.value}],style:{[D.value]:L}},[(o.label||s["tick-label"])&&a("div",{class:"v-slider-track__tick-label"},[((S=s["tick-label"])==null?void 0:S.call(s,{tick:o,index:P}))??o.label])])}):[]);return ae(()=>a("div",{class:["v-slider-track",I.value,e.class],style:[{"--v-slider-track-size":U(k.value),"--v-slider-tick-size":U(p.value)},e.style]},[a("div",{class:["v-slider-track__background",w.value,{"v-slider-track__background--opacity":!!d.value||!A.value}],style:{...y.value,...$.value}},null),a("div",{class:["v-slider-track__fill",N.value],style:{...h.value,...M.value}},null),c.value&&a("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":c.value==="always"}]},[F.value])])),{}}}),mt=Q({...He(),...lt(),...Ze(),modelValue:{type:[Number,String],default:0}},"VSlider"),ve=se()({name:"VSlider",props:mt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:s,emit:r}=t;const d=ee(),{rtlClasses:g}=ue(),v=nt(e),c=Le(e,"modelValue",void 0,m=>v.roundValue(m??v.min.value)),{min:p,max:i,mousePressed:A,roundValue:k,onSliderMousedown:B,onSliderTouchstart:V,trackContainerRef:R,position:x,hasLabels:I,readonly:N}=ot({props:e,steps:v,onSliderStart:()=>{r("start",c.value)},onSliderEnd:m=>{let{value:y}=m;const b=k(y);c.value=b,r("end",b)},onSliderMove:m=>{let{value:y}=m;return c.value=k(y)},getActiveThumb:()=>{var m;return(m=d.value)==null?void 0:m.$el}}),{isFocused:M,focus:w,blur:$}=et(e),D=l(()=>x(c.value));return ae(()=>{const m=me.filterProps(e),y=!!(e.label||s.label||s.prepend);return a(me,$e({class:["v-slider",{"v-slider--has-labels":!!s["tick-label"]||I.value,"v-slider--focused":M.value,"v-slider--pressed":A.value,"v-slider--disabled":e.disabled},g.value,e.class],style:e.style},m,{focused:M.value}),{...s,prepend:y?b=>{var h,F;return a(Ie,null,[((h=s.label)==null?void 0:h.call(s,b))??(e.label?a(tt,{id:b.id.value,class:"v-slider__label",text:e.label},null):void 0),(F=s.prepend)==null?void 0:F.call(s,b)])}:void 0,default:b=>{let{id:h,messagesId:F}=b;return a("div",{class:"v-slider__container",onMousedown:N.value?void 0:B,onTouchstartPassive:N.value?void 0:V},[a("input",{id:h.value,name:e.name||h.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value},null),a(ct,{ref:R,start:0,stop:D.value},{"tick-label":s["tick-label"]}),a(rt,{ref:d,"aria-describedby":F.value,focused:M.value,min:p.value,max:i.value,modelValue:c.value,"onUpdate:modelValue":E=>c.value=E,position:D.value,elevation:e.elevation,onFocus:w,onBlur:$,ripple:e.ripple},{"thumb-label":s["thumb-label"]})])}})}),{}}}),z=e=>(Ye("data-v-95d3ca47"),e=e(),Je(),e),vt={class:"settings__heading"},ft=z(()=>n("span",{class:"ml-3"},"コメント/実況",-1)),_t=z(()=>n("div",{class:"settings__item mt-7"},[n("div",{class:"settings__item-heading"},"コメントのミュート設定"),n("div",{class:"settings__item-label"},[O(" 表示したくないコメントを、映像上やコメントリストに表示しないようにミュートできます。"),n("br")])],-1)),bt=z(()=>n("span",{class:"ml-1"},"コメントのミュート設定を開く",-1)),ht={class:"settings__item"},gt=z(()=>n("div",{class:"settings__item-heading"},"コメントの速さ",-1)),pt=z(()=>n("div",{class:"settings__item-label"},[O(" プレイヤーに流れるコメントの速さを設定します。"),n("br"),O(" たとえば 1.2 に設定すると、コメントが 1.2 倍速く流れます。"),n("br")],-1)),kt={class:"settings__item"},Ct=z(()=>n("div",{class:"settings__item-heading"},"コメントの文字サイズ",-1)),St=z(()=>n("div",{class:"settings__item-label"},[O(" プレイヤーに流れるコメントの文字サイズの基準値を設定します。"),n("br"),O(" 実際の文字サイズは画面サイズに合わせて調整されます。デフォルトの文字サイズは 34px です。"),n("br")],-1)),Bt={class:"settings__item settings__item--switch"},yt=z(()=>n("label",{class:"settings__item-heading",for:"close_comment_form_after_sending"},"コメント送信後にコメント入力フォームを閉じる",-1)),Ft=z(()=>n("label",{class:"settings__item-label",for:"close_comment_form_after_sending"},[O(" この設定をオンにすると、コメントを送信した後に、コメント入力フォームが自動で閉じるようになります。"),n("br"),O(" コメント入力フォームが表示されたままだと、大半のショートカットキーが文字入力と競合して使えなくなります。とくに理由がなければ、オンにしておくのがおすすめです。"),n("br")],-1));function Et(e,t,s,r,d,g){const v=Z("Icon"),c=Z("CommentMuteSettings"),p=Z("SettingsBase");return de(),Oe(p,null,{default:ce(()=>[n("h2",vt,[te((de(),je("a",{class:"settings__back-button",onClick:t[0]||(t[0]=i=>e.$router.back())},[a(v,{icon:"fluent:arrow-left-12-filled",width:"25px"})])),[[be]]),a(v,{icon:"bi:chat-left-text-fill",width:"19px"}),ft]),n("div",{class:Ke(["settings__content",{"settings__content--loading":e.is_loading}])},[_t,a(qe,{class:"settings__save-button mt-4",variant:"flat",onClick:t[1]||(t[1]=i=>e.comment_mute_settings_modal=!e.comment_mute_settings_modal)},{default:ce(()=>[a(v,{icon:"heroicons-solid:filter",height:"19px"}),bt]),_:1}),n("div",ht,[gt,pt,a(ve,{class:"settings__item-form",color:"primary","show-ticks":"always","thumb-label":"","hide-details":"",step:.1,min:.5,max:2,modelValue:e.settingsStore.settings.comment_speed_rate,"onUpdate:modelValue":t[2]||(t[2]=i=>e.settingsStore.settings.comment_speed_rate=i)},null,8,["modelValue"])]),n("div",kt,[Ct,St,a(ve,{class:"settings__item-form",color:"primary","show-ticks":"always","thumb-label":"","hide-details":"",step:1,min:20,max:60,modelValue:e.settingsStore.settings.comment_font_size,"onUpdate:modelValue":t[3]||(t[3]=i=>e.settingsStore.settings.comment_font_size=i)},null,8,["modelValue"])]),n("div",Bt,[yt,Ft,a(Xe,{class:"settings__item-switch",color:"primary",id:"close_comment_form_after_sending","hide-details":"",modelValue:e.settingsStore.settings.close_comment_form_after_sending,"onUpdate:modelValue":t[4]||(t[4]=i=>e.settingsStore.settings.close_comment_form_after_sending=i)},null,8,["modelValue"])])],2),a(c,{modelValue:e.comment_mute_settings_modal,"onUpdate:modelValue":t[5]||(t[5]=i=>e.comment_mute_settings_modal=i)},null,8,["modelValue"])]),_:1})}const zt=Ue(ut,[["render",Et],["__scopeId","data-v-95d3ca47"]]);export{zt as default};
