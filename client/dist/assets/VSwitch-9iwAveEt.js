import{p as J,q as F,g as K,r as Q,s as Y,u as Z,e as I,t as L,v as p,h as ee,l as te}from"./VSelect-YWu-gh3I.js";import{B as R,C as U,cg as B,q as z,a4 as ae,cA as W,T,cj as M,W as V,a as l,cB as le,a5 as ne,cC as N,cD as oe,D as _,cE as se,ck as ce,F as ie,cF as re,cG as ue,X as de}from"./index-Bs-QKlak.js";const fe=U({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Q({origin:"center center",scrollStrategy:"block",transition:{component:Y},zIndex:2400})},"VDialog"),he=R()({name:"VDialog",props:fe(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,y){let{emit:k,slots:t}=y;const c=B(e,"modelValue"),{scopeId:u}=J(),n=z();function g(a){var i,f;const s=a.relatedTarget,d=a.target;if(s!==d&&((i=n.value)!=null&&i.contentEl)&&((f=n.value)!=null&&f.globalTop)&&![document,n.value.contentEl].includes(d)&&!n.value.contentEl.contains(d)){const o=le(n.value.contentEl);if(!o.length)return;const v=o[0],m=o[o.length-1];s===v?m.focus():v.focus()}}ae(()=>{document.removeEventListener("focusin",g)}),W&&T(()=>c.value&&e.retainFocus,a=>{a?document.addEventListener("focusin",g):document.removeEventListener("focusin",g)},{immediate:!0});function P(){var a;k("afterEnter"),(a=n.value)!=null&&a.contentEl&&!n.value.contentEl.contains(document.activeElement)&&n.value.contentEl.focus({preventScroll:!0})}function E(){k("afterLeave")}return T(c,async a=>{var s;a||(await ne(),(s=n.value.activatorEl)==null||s.focus({preventScroll:!0}))}),M(()=>{const a=F.filterProps(e),s=V({"aria-haspopup":"dialog"},e.activatorProps),d=V({tabindex:-1},e.contentProps);return l(F,V({ref:n,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},a,{modelValue:c.value,"onUpdate:modelValue":i=>c.value=i,"aria-modal":"true",activatorProps:s,contentProps:d,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:P,onAfterLeave:E},u),{activator:t.activator,default:function(){for(var i=arguments.length,f=new Array(i),o=0;o<i;o++)f[o]=arguments[o];return l(N,{root:"VDialog"},{default:()=>{var v;return[(v=t.default)==null?void 0:v.call(t,...f)]}})}})}),K({},n)}}),ve=U({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...ee(),...p()},"VSwitch"),Ve=R()({name:"VSwitch",inheritAttrs:!1,props:ve(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,y){let{attrs:k,slots:t}=y;const c=B(e,"indeterminate"),u=B(e,"modelValue"),{loaderClasses:n}=oe(e),{isFocused:g,focus:P,blur:E}=Z(e),a=z(),s=W&&window.matchMedia("(forced-colors: active)").matches,d=_(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),i=se(),f=_(()=>e.id||`switch-${i}`);function o(){c.value&&(c.value=!1)}function v(m){var w,b;m.stopPropagation(),m.preventDefault(),(b=(w=a.value)==null?void 0:w.input)==null||b.click()}return M(()=>{const[m,w]=ce(k),b=I.filterProps(e),O=L.filterProps(e);return l(I,V({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":c.value},n.value,e.class]},m,b,{modelValue:u.value,"onUpdate:modelValue":C=>u.value=C,id:f.value,focused:g.value,style:e.style}),{...t,default:C=>{let{id:q,messagesId:H,isDisabled:j,isReadonly:G,isValid:D}=C;const S={model:u,isValid:D};return l(L,V({ref:a},O,{modelValue:u.value,"onUpdate:modelValue":[h=>u.value=h,o],id:q.value,"aria-describedby":H.value,type:"checkbox","aria-checked":c.value?"mixed":void 0,disabled:j.value,readonly:G.value,onFocus:P,onBlur:E},w),{...t,default:h=>{let{backgroundColorClasses:x,backgroundColorStyles:r}=h;return l("div",{class:["v-switch__track",s?void 0:x.value],style:r.value,onClick:v},[t["track-true"]&&l("div",{key:"prepend",class:"v-switch__track-true"},[t["track-true"](S)]),t["track-false"]&&l("div",{key:"append",class:"v-switch__track-false"},[t["track-false"](S)])])},input:h=>{let{inputNode:x,icon:r,backgroundColorClasses:X,backgroundColorStyles:$}=h;return l(ie,null,[x,l("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":r||e.loading},e.inset||s?void 0:X.value],style:e.inset?void 0:$.value},[t.thumb?l(N,{defaults:{VIcon:{icon:r,size:"x-small"}}},{default:()=>[t.thumb({...S,icon:r})]}):l(te,null,{default:()=>[e.loading?l(ue,{name:"v-switch",active:!0,color:D.value===!1?void 0:d.value},{default:A=>t.loader?t.loader(A):l(de,{active:A.isActive,color:A.color,indeterminate:!0,size:"16",width:"2"},null)}):r&&l(re,{key:String(r),icon:r,size:"x-small"},null)]})])])}})}})}),{}}});export{he as V,Ve as a};
